gplink-2.1.1 (Sep 26 2017)
Listing File Generated: 2017-11-23  11:59:19
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrget1.S - read one byte pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           ;
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           ;
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
0000a6   1e00     movar   0                	movar	STK00
0000a7   1f84     movra   0x84             	movra	_FSR1
0000a8   1e01     movar   0x1              	movar	STK01
0000a9   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
                                              	movai	1
                                              	addra 	_FSR0
                                              	jbclr	_STATUS, Z
                                              	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
0000a0   1d00     xorai   0                	xorai  	GPTRTAG_DATA
0000a1   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000a2   80a6     goto    0xa6             	goto   	dataptr
                                              	; __code pointer tag: 0x80
0000a3   1d80     xorai   0x80             	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
0000a4   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000a5   80ac     goto    0xac             	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrget
                                           	global	__gptrget1
                                           	global	__codeptrget1
                                           	
                                           	CODE
                                           
                                           __gptrget:
                                           __gptrget1:
                                           	select_routine __dataptrget1, __codeptrget1
                                           
                                           
                                           __dataptrget1:
                                           	setup_fsr
0000aa   1ee7     movar   0xe7             	movar _INDF		; data in ACC
0000ab   0e00     return                   	return
                                           
                                           __codeptrget1:
                                           	setup_fsr
0000b0   0d00     movc                     	movc			; data in ACC
0000b1   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrget2.S - read two bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
0000b8   1e00     movar   0                	movar	STK00
0000b9   1f84     movra   0x84             	movra	_FSR1
0000ba   1e01     movar   0x1              	movar	STK01
0000bb   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
0000be   2d01     movai   0x1                 	movai	1
0000bf   1383     addra   0x83                	addra 	_FSR0
0000c0   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
0000c1   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
0000b2   1d00     xorai   0                	xorai  	GPTRTAG_DATA
0000b3   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000b4   80b8     goto    0xb8             	goto   	dataptr
                                              	; __code pointer tag: 0x80
0000b5   1d80     xorai   0x80             	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
0000b6   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000b7   80c4     goto    0xc4             	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrget2
                                           	
                                           	CODE
                                           
                                           __gptrget2:
                                           	select_routine __dataptrget2, __codeptrget2
                                           
                                           __dataptrget2:
                                           	setup_fsr
0000bc   1ee7     movar   0xe7             	movar _INDF
0000bd   1f00     movra   0                	movra STK00		; LSB in STK00
                                           	inc_fsr
0000c2   1ee7     movar   0xe7             	movar _INDF		; MSB in ACC
0000c3   0e00     return                   	return
                                           
                                           
                                           __codeptrget2:
                                           	setup_fsr
0000c8   0d00     movc                     	movc
0000c9   1f00     movra   0                	movra STK00		; LSB in STK00
                                           	inc_fsr
0000ce   0d00     movc                     	movc			; MSB in ACC
0000cf   0e00     return                   	return
                                           	
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrget3.S - read three bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
0000d6   1e00     movar   0                	movar	STK00
0000d7   1f84     movra   0x84             	movra	_FSR1
0000d8   1e01     movar   0x1              	movar	STK01
0000d9   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
0000dc   2d01     movai   0x1                 	movai	1
0000dd   1383     addra   0x83                	addra 	_FSR0
0000de   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
0000df   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
0000d0   1d00     xorai   0                	xorai  	GPTRTAG_DATA
0000d1   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000d2   80d6     goto    0xd6             	goto   	dataptr
                                              	; __code pointer tag: 0x80
0000d3   1d80     xorai   0x80             	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
0000d4   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000d5   80e8     goto    0xe8             	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrget3
                                           	
                                           	CODE
                                           
                                           __gptrget3:
                                           	select_routine __dataptrget3, __codeptrget3
                                           
                                           
                                           __dataptrget3:
                                           	setup_fsr
0000da   1ee7     movar   0xe7             	movar _INDF
0000db   1f01     movra   0x1              	movra STK01		; LSB in STK01
                                           	inc_fsr
0000e0   1ee7     movar   0xe7             	movar _INDF
0000e1   1f00     movra   0                	movra STK00		; 2nd byte in STK00
                                           	inc_fsr
0000e6   1ee7     movar   0xe7             	movar _INDF		; MSB in ACC
0000e7   0e00     return                   	return
                                           	
                                           
                                           __codeptrget3:
                                           	setup_fsr
0000ec   0d00     movc                     	movc
0000ed   1f01     movra   0x1              	movra STK01		; LSB in STK01
                                           	inc_fsr
0000f2   0d00     movc                     	movc
0000f3   1f00     movra   0                	movra STK00		; 2nd byte in STK00
                                           	inc_fsr
0000f8   0d00     movc                     	movc			; MSB in ACC
0000f9   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrget4.S - read four bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
000100   1e00     movar   0                	movar	STK00
000101   1f84     movra   0x84             	movra	_FSR1
000102   1e01     movar   0x1              	movar	STK01
000103   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
000106   2d01     movai   0x1                 	movai	1
000107   1383     addra   0x83                	addra 	_FSR0
000108   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
000109   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
0000fa   1d00     xorai   0                	xorai  	GPTRTAG_DATA
0000fb   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000fc   8100     goto    0x100            	goto   	dataptr
                                              	; __code pointer tag: 0x80
0000fd   1d80     xorai   0x80             	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
0000fe   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
0000ff   8118     goto    0x118            	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrget4
                                           	
                                           	CODE
                                           
                                           __gptrget4:
                                           	select_routine __dataptrget4, __codeptrget4
                                           
                                           
                                           __dataptrget4:
                                           	setup_fsr
000104   1ee7     movar   0xe7             	movar _INDF
000105   1f02     movra   0x2              	movra STK02		; LSB in STK02
                                           	inc_fsr
00010a   1ee7     movar   0xe7             	movar _INDF
00010b   1f01     movra   0x1              	movra STK01		; 2nd byte in STK01
                                           	inc_fsr
000110   1ee7     movar   0xe7             	movar _INDF
000111   1f00     movra   0                	movra STK00		; 3rd byte in STK00
                                           	inc_fsr
000116   1ee7     movar   0xe7             	movar _INDF		; MSB in ACC
000117   0e00     return                   	return
                                           
                                           
                                           __codeptrget4:
                                           	setup_fsr
00011c   0d00     movc                     	movc
00011d   1f02     movra   0x2              	movra STK02		; LSB in STK02
                                           	inc_fsr
000122   0d00     movc                     	movc
000123   1f01     movra   0x1              	movra STK01		; 2nd byte in STK01
                                           	inc_fsr
000128   0d00     movc                     	movc
000129   1f00     movra   0                	movra STK00		; 3rd byte in STK00
                                           	inc_fsr
00012e   0d00     movc                     	movc			; MSB in ACC
00012f   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrput1.S : write one byte pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
000133   1e00     movar   0                	movar	STK00
000134   1f84     movra   0x84             	movra	_FSR1
000135   1e01     movar   0x1              	movar	STK01
000136   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
                                              	movai	1
                                              	addra 	_FSR0
                                              	jbclr	_STATUS, Z
                                              	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                              	; __code pointer tag: 0x80
                                           	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
                                           	jbclr  	_STATUS, Z
                                           	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
000130   1d00     xorai   0                	xorai  	GPTRTAG_DATA
000131   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
000132   8133     goto    0x133            	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrput
                                           	global	__gptrput1
                                           	
                                           	CODE
                                           
                                           __gptrput:
                                           __gptrput1:
                                           	check_data	__dataptrput1
                                           
                                           
                                           __dataptrput1:
                                           	setup_fsr
000137   1e02     movar   0x2              	movar	STK02		; get LSB(val) from STK02
000138   1fe7     movra   0xe7             	movra	_INDF
000139   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrput2.S : write two bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
00013d   1e00     movar   0                	movar	STK00
00013e   1f84     movra   0x84             	movra	_FSR1
00013f   1e01     movar   0x1              	movar	STK01
000140   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
000143   2d01     movai   0x1                 	movai	1
000144   1383     addra   0x83                	addra 	_FSR0
000145   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
000146   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                              	; __code pointer tag: 0x80
                                           	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
                                           	jbclr  	_STATUS, Z
                                           	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
00013a   1d00     xorai   0                	xorai  	GPTRTAG_DATA
00013b   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
00013c   813d     goto    0x13d            	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrput2
                                           	
                                           	CODE
                                           
                                           __gptrput2:
                                           	check_data	__dataptrput2
                                           
                                           
                                           __dataptrput2:
                                           	setup_fsr
000141   1e03     movar   0x3              	movar STK03		; get LSB(val) from STK03
000142   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
000147   1e02     movar   0x2              	movar STK02		; get MSB(val) from STK02
000148   1fe7     movra   0xe7             	movra _INDF
000149   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrput3.S : write three bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
00014d   1e00     movar   0                	movar	STK00
00014e   1f84     movra   0x84             	movra	_FSR1
00014f   1e01     movar   0x1              	movar	STK01
000150   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
000153   2d01     movai   0x1                 	movai	1
000154   1383     addra   0x83                	addra 	_FSR0
000155   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
000156   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                              	; __code pointer tag: 0x80
                                           	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
                                           	jbclr  	_STATUS, Z
                                           	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
00014a   1d00     xorai   0                	xorai  	GPTRTAG_DATA
00014b   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
00014c   814d     goto    0x14d            	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrput3
                                           	
                                           	CODE
                                           
                                           __gptrput3:
                                           	check_data	__dataptrput3
                                           
                                           
                                           __dataptrput3:
                                           	setup_fsr
000151   1e04     movar   0x4              	movar STK04		; get LSB(val) from STK04
000152   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
000157   1e03     movar   0x3              	movar STK03		; get 2nd byte of val from STK03
000158   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
00015d   1e02     movar   0x2              	movar STK02		; get MSB(val) from STK02
00015e   1fe7     movra   0xe7             	movra _INDF
00015f   0e00     return                   	return
                                           
                                           	END
                                           ; -------------------------------------------------------------------------
                                           ;  _gptrput4.S : write four bytes pointed to by a generic pointer
                                           ;
                                           ;  Copyright (C) 2005, Raphael Neider <rneider AT web.de>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           ; calling conventions:
                                           ;   3 byte generic pointer is passed in via (WREG STK00 STK01).
                                           ;   The result is returned in (WREG (STK00 (STK01 (STK02)))).
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;	return:
                                           ;		(ACC[:STK00[:STK01[:STK02]]]): data (MSB left)
                                           
                                           ;   unsigned char _gptrget  (void *gptr);
                                           ;   unsigned char _gptrget1 (void *gptr);
                                           ;   unsigned int  _gptrget2 (void *gptr);
                                           ;   void *        _gptrget3 (void *gptr);
                                           ;   unsigned long _gptrget4 (void *gptr);
                                           
                                           
                                           ; 	param:
                                           ;		ACC: data/code flag
                                           ;		(STK00:STK01) 16bit address
                                           ;		(STK02[:STK03[:STK04[:STK05]]]): data (MSB left)
                                           
                                           ;   void _gptrput  (void *ptr, unsigned char val);
                                           ;   void _gptrput1 (void *ptr, unsigned char val);
                                           ;   void _gptrput2 (void *ptr, unsigned int  val);
                                           ;   void _gptrput3 (void *ptr, unsigned int  val);
                                           ;   void _gptrput4 (void *ptr, unsigned long val);
                                           
                                           
                                           include macros.inc
                                           UD_abs_mc35p7041_82	udata_ovr  	0x0082
                                           _HIBYTE
                                              	res	1
                                           UD_abs_mc35p7041_83	udata_ovr  	0x0083
                                           _FSR0
                                              	res	1
                                           UD_abs_mc35p7041_84	udata_ovr  	0x0084
                                           _FSR1
                                              	res	1
                                           UD_abs_mc35p7041_86	udata_ovr  	0x0086
                                           _STATUS
                                              	res	1
                                           UD_abs_mc35p7041_ce	udata_ovr  	0x00ce
                                           _PCL
                                              	res	1
                                           UD_abs_mc35p7041_cf	udata_ovr  	0x00cf
                                           _PCH
                                              	res	1
                                           UD_abs_mc35p7041_e7	udata_ovr  	0x00e7 
                                           _INDF
                                              	res	1
                                           
                                           
                                           
                                           
                                           ; -----------------------------------------------
                                           ; --- extern declared SFRs
                                           ; -----------------------------------------------
                                           ;  	extern _STATUS
                                           ;  	extern _FSR0
                                           ;  	extern _FSR1
                                           ;  	extern _INDF0
                                           ;  	extern _INDF1
                                           ;  	extern _INDF2
                                           ;  	extern _INDF3
                                           ;  	extern _FSR
                                           ;  	extern _INDF
                                           ;  	extern _PCLATH
                                           ;  	extern _PCL
                                              	
                                           
                                           C  	EQU	2
                                           DC 	EQU	1
                                           Z  	EQU	0
                                           IRP	EQU	7
                                              	
                                           ; -----------------------------------------------
                                           ; --- generic pointer access helpers
                                           ; -----------------------------------------------
                                           
                                           GPTRTAG_DATA   	EQU	0x00
                                           GPTRTAG_CODE   	EQU	0x80
                                           
                                           ; setup FSR to point to (STK00:STK01)
                                           setup_fsr  	macro
000163   1e00     movar   0                	movar	STK00
000164   1f84     movra   0x84             	movra	_FSR1
000165   1e01     movar   0x1              	movar	STK01
000166   1f83     movra   0x83             	movra	_FSR0
                                           	endm
                                           
                                           inc_fsr	   	macro
                                              	;;incr 	_FSR
000169   2d01     movai   0x1                 	movai	1
00016a   1383     addra   0x83                	addra 	_FSR0
00016b   5086     jbclr   0x86, 0             	jbclr	_STATUS, Z
00016c   1384     addra   0x84                	addra	_FSR1
                                           	endm
                                           
                                           ; dispatch according to gptr type
                                           select_routine 	macro  	dataptr, codeptr
                                              	; __data pointer tag: 0x00
                                           	xorai  	GPTRTAG_DATA
                                           	jbclr  	_STATUS, Z
                                           	goto   	dataptr
                                              	; __code pointer tag: 0x80
                                           	xorai  	(GPTRTAG_DATA ^ GPTRTAG_CODE)
                                           	jbclr  	_STATUS, Z
                                           	goto   	codeptr
                                           	endm
                                           
                                           check_data 	macro  	dataptr
                                              	; __data pointer tag: 0x00
000160   1d00     xorai   0                	xorai  	GPTRTAG_DATA
000161   5086     jbclr   0x86, 0          	jbclr  	_STATUS, Z
000162   8163     goto    0x163            	goto   	dataptr
                                           	endm
                                           
                                           include mc30f_common.inc
                                           ;--------------------------------------------------------------------------
                                           ;  p16f_common.inc - definitions common to all 14 bit PIC devices
                                           ;
                                           ;  Copyright (C) 2005, Vangelis Rokas <vrokas AT otenet.gr>
                                           ;
                                           ;  This library is free software; you can redistribute it and/or modify it
                                           ;  under the terms of the GNU General Public License as published by the
                                           ;  Free Software Foundation; either version 2, or (at your option) any
                                           ;  later version.
                                           ;
                                           ;  This library is distributed in the hope that it will be useful,
                                           ;  but WITHOUT ANY WARRANTY; without even the implied warranty of
                                           ;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                                           ;  GNU General Public License for more details.
                                           ;
                                           ;  You should have received a copy of the GNU General Public License 
                                           ;  along with this library; see the file COPYING. If not, write to the
                                           ;  Free Software Foundation, 51 Franklin Street, Fifth Floor, Boston,
                                           ;   MA 02110-1301, USA.
                                           ;
                                           ;  As a special exception, if you link this library with other files,
                                           ;  some of which are compiled with SDCC, to produce an executable,
                                           ;  this library does not by itself cause the resulting executable to
                                           ;  be covered by the GNU General Public License. This exception does
                                           ;  not however invalidate any other reasons why the executable file
                                           ;  might be covered by the GNU General Public License.
                                           ;--------------------------------------------------------------------------
                                           
                                           	extern	STK00
                                           	extern	STK01
                                           	extern	STK02
                                           	extern	STK03
                                           	extern	STK04
                                           	extern	STK05
                                           	extern	STK06
                                           
                                           
                                           	global	__gptrput4
                                           	
                                           	CODE
                                           
                                           __gptrput4:
                                           	check_data	__dataptrput4
                                           
                                           
                                           __dataptrput4:
                                           	setup_fsr
000167   1e05     movar   0x5              	movar STK05		; get LSB(val) from STK05
000168   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
00016d   1e04     movar   0x4              	movar STK04		; get 2nd byte of val from STK04
00016e   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
000173   1e03     movar   0x3              	movar STK03		; get 3rd byte of val from STK03
000174   1fe7     movra   0xe7             	movra _INDF
                                           	inc_fsr
000179   1e02     movar   0x2              	movar STK02		; get MSB(val) from STK02
00017a   1fe7     movra   0xe7             	movra _INDF
00017b   0e00     return                   	return
                                           
                                           	END
                                           ;#include "2K7041.inc"
                                           ;#include "_gptrget1.S"
                                           
                                           sharebank  	udata_ovr  	0x0000 
                                           STK00  	res 1
                                           STK01  	res 1
                                           STK02  	res 1
                                           STK03  	res 1
                                           STK04  	res 1
                                           STK05  	res 1 
                                              	   	
                                              	global 	STK00
                                              	global 	STK01
                                              	global 	STK02
                                              	global 	STK03
                                              	global 	STK04
                                              	global 	STK05
                                              	   	
                                              	extern __gptrget
                                              	extern __gptrput
                                              	extern __gptrget2
                                              	extern __gptrput2
                                              	extern __gptrget3
                                              	extern __gptrput3
                                              	extern __gptrget4
                                              	extern __gptrput4
                                           
                                           
                                           ID_aaa_0   	code 0x2ff
                                           _rom
0002ff   0055     dw      0x55                	dw 0x55
000300   0066     dw      0x66                	dw 0x66
000301   0077     dw      0x77                	dw 0x77
000302   0088     dw      0x88                	dw 0x88
                                           
                                           UD_abs_aaa_20  	udata_ovr  	0x0020
                                           ram0 res 1
                                           ram1 res 1
                                           ram2 res 1
                                           ram3 res 1
                                           
                                           data_try udata_ovr 0x30
                                           td0 res 1
                                           td1 res 1
                                           td2 res 1
                                           td3 res 1
                                           
                                           STARTUP	code 0x0000
000000   8001     goto    0x1                 	goto start
                                           
                                           start:
000001   c00f     call    0xf                 	call td_init
                                              	
000002   c018     call    0x18                	call t_gptrget_d   	; (ram0) <= 0x11
000003   c020     call    0x20                	call t_getrget_c   	; (ram0) <= 0x55
000004   c028     call    0x28                	call t_gptrput 	   	; (ram0) <= 0x12
                                              	
000005   c031     call    0x31                	call t_gptrget2_d  	; (ram1:ram0) <= 0x2211
000006   c03b     call    0x3b                	call t_gptrget2_c  	; (ram1:ram0) <= 0x6655
000007   c045     call    0x45                	call t_gptrput2		; (ram1:ram0) <= 0x2312
                                              	
000008   c050     call    0x50                	call t_gptrget3_d  	; (ram2:ram1:ram0) <= 0x332211
000009   c05c     call    0x5c                	call t_gptrget3_c  	; (ram2:ram1:ram0) <= 0x776655
00000a   c068     call    0x68                	call t_gptrput3		; (ram2:ram1:ram0) <= 0x342312
                                              	
00000b   c075     call    0x75                	call t_gptrget4_d  	; (ram3:ram2:ram1:ram0) <= 0x44332211
00000c   c083     call    0x83                	call t_gptrget4_c  	; (ram3:ram2:ram1:ram0) <= 0x88776655
00000d   c091     call    0x91                	call t_gptrput4		; (ram3:ram2:ram1:ram0) <= 0x45342312
                                              	
00000e   800e     goto    0xe                 	goto $
                                              	
                                           td_init:
00000f   2d11     movai   0x11                	movai 0x11
000010   1f30     movra   0x30                	movra td0
000011   2d22     movai   0x22                	movai 0x22
000012   1f31     movra   0x31                	movra td1
000013   2d33     movai   0x33                	movai 0x33
000014   1f32     movra   0x32                	movra td2
000015   2d44     movai   0x44                	movai 0x44
000016   1f33     movra   0x33                	movra td3
000017   0e00     return                      	return
                                           
                                           t_gptrget_d:
000018   2d30     movai   0x30                	movai (td0)
000019   1f01     movra   0x1                 	movra STK01
00001a   2d00     movai   0                   	movai high(td0)
00001b   1f00     movra   0                   	movra STK00
00001c   2d00     movai   0                   	movai 0x00
00001d   c0a0     call    0xa0                	call __gptrget
00001e   1f20     movra   0x20                	movra ram0
00001f   0e00     return                      	return
                                           
                                           t_getrget_c:
000020   2dff     movai   0xff                	movai (_rom)
000021   1f01     movra   0x1                 	movra STK01
000022   2d02     movai   0x2                 	movai high(_rom)
000023   1f00     movra   0                   	movra STK00
000024   2d80     movai   0x80                	movai 0x80
000025   c0a0     call    0xa0                	call __gptrget
000026   1f20     movra   0x20                	movra ram0
000027   0e00     return                      	return
                                              	
                                           t_gptrput:
000028   2d12     movai   0x12                	movai 0x12
000029   1f02     movra   0x2                 	movra STK02
00002a   2d20     movai   0x20                	movai (ram0)
00002b   1f01     movra   0x1                 	movra STK01
00002c   2d00     movai   0                   	movai high(ram0)
00002d   1f00     movra   0                   	movra STK00
00002e   2d00     movai   0                   	movai 0x00
00002f   c130     call    0x130               	call __gptrput
000030   0e00     return                      	return
                                           
                                           t_gptrget2_d:
000031   2d30     movai   0x30                	movai (td0)
000032   1f01     movra   0x1                 	movra STK01
000033   2d00     movai   0                   	movai high(td0)
000034   1f00     movra   0                   	movra STK00
000035   2d00     movai   0                   	movai 0x00
000036   c0b2     call    0xb2                	call __gptrget2
000037   1f21     movra   0x21                	movra ram1
000038   1e00     movar   0                   	movar STK00
000039   1f20     movra   0x20                	movra ram0
00003a   0e00     return                      	return
                                           
                                           t_gptrget2_c:
00003b   2dff     movai   0xff                	movai (_rom)
00003c   1f01     movra   0x1                 	movra STK01
00003d   2d02     movai   0x2                 	movai high(_rom)
00003e   1f00     movra   0                   	movra STK00
00003f   2d80     movai   0x80                	movai 0x80
000040   c0b2     call    0xb2                	call __gptrget2
000041   1f21     movra   0x21                	movra ram1
000042   1e00     movar   0                   	movar STK00
000043   1f20     movra   0x20                	movra ram0
000044   0e00     return                      	return
                                              	
                                           t_gptrput2:
000045   2d12     movai   0x12                	movai 0x12
000046   1f03     movra   0x3                 	movra STK03
000047   2d23     movai   0x23                	movai 0x23
000048   1f02     movra   0x2                 	movra STK02
000049   2d20     movai   0x20                	movai (ram0)
00004a   1f01     movra   0x1                 	movra STK01
00004b   2d00     movai   0                   	movai high(ram0)
00004c   1f00     movra   0                   	movra STK00
00004d   2d00     movai   0                   	movai 0x00
00004e   c13a     call    0x13a               	call __gptrput2
00004f   0e00     return                      	return
                                              	
                                           t_gptrget3_d:
000050   2d30     movai   0x30                	movai (td0)
000051   1f01     movra   0x1                 	movra STK01
000052   2d00     movai   0                   	movai high(td0)
000053   1f00     movra   0                   	movra STK00
000054   2d00     movai   0                   	movai 0x00
000055   c0d0     call    0xd0                	call __gptrget3
000056   1f22     movra   0x22                	movra ram2
000057   1e00     movar   0                   	movar STK00
000058   1f21     movra   0x21                	movra ram1
000059   1e01     movar   0x1                 	movar STK01
00005a   1f20     movra   0x20                	movra ram0
00005b   0e00     return                      	return
                                           
                                           t_gptrget3_c:
00005c   2dff     movai   0xff                	movai (_rom)
00005d   1f01     movra   0x1                 	movra STK01
00005e   2d02     movai   0x2                 	movai high(_rom)
00005f   1f00     movra   0                   	movra STK00
000060   2d80     movai   0x80                	movai 0x80
000061   c0d0     call    0xd0                	call __gptrget3
000062   1f22     movra   0x22                	movra ram2
000063   1e00     movar   0                   	movar STK00
000064   1f21     movra   0x21                	movra ram1
000065   1e01     movar   0x1                 	movar STK01
000066   1f20     movra   0x20                	movra ram0
000067   0e00     return                      	return
                                              	
                                           t_gptrput3:
000068   2d12     movai   0x12                	movai 0x12
000069   1f04     movra   0x4                 	movra STK04
00006a   2d23     movai   0x23                	movai 0x23
00006b   1f03     movra   0x3                 	movra STK03
00006c   2d34     movai   0x34                	movai 0x34
00006d   1f02     movra   0x2                 	movra STK02
00006e   2d20     movai   0x20                	movai (ram0)
00006f   1f01     movra   0x1                 	movra STK01
000070   2d00     movai   0                   	movai high(ram0)
000071   1f00     movra   0                   	movra STK00
000072   2d00     movai   0                   	movai 0x00
000073   c14a     call    0x14a               	call __gptrput3
000074   0e00     return                      	return
                                              	
                                           t_gptrget4_d:
000075   2d30     movai   0x30                	movai (td0)
000076   1f01     movra   0x1                 	movra STK01
000077   2d00     movai   0                   	movai high(td0)
000078   1f00     movra   0                   	movra STK00
000079   2d00     movai   0                   	movai 0x00
00007a   c0fa     call    0xfa                	call __gptrget4
00007b   1f23     movra   0x23                	movra ram3
00007c   1e00     movar   0                   	movar STK00
00007d   1f22     movra   0x22                	movra ram2
00007e   1e01     movar   0x1                 	movar STK01
00007f   1f21     movra   0x21                	movra ram1
000080   1e02     movar   0x2                 	movar STK02
000081   1f20     movra   0x20                	movra ram0
000082   0e00     return                      	return
                                           
                                           t_gptrget4_c:
000083   2dff     movai   0xff                	movai (_rom)
000084   1f01     movra   0x1                 	movra STK01
000085   2d02     movai   0x2                 	movai high(_rom)
000086   1f00     movra   0                   	movra STK00
000087   2d80     movai   0x80                	movai 0x80
000088   c0fa     call    0xfa                	call __gptrget4
000089   1f23     movra   0x23                	movra ram3
00008a   1e00     movar   0                   	movar STK00
00008b   1f22     movra   0x22                	movra ram2
00008c   1e01     movar   0x1                 	movar STK01
00008d   1f21     movra   0x21                	movra ram1
00008e   1e02     movar   0x2                 	movar STK02
00008f   1f20     movra   0x20                	movra ram0
000090   0e00     return                      	return
                                              	
                                           t_gptrput4:
000091   2d12     movai   0x12                	movai 0x12
000092   1f05     movra   0x5                 	movra STK05
000093   2d23     movai   0x23                	movai 0x23
000094   1f04     movra   0x4                 	movra STK04
000095   2d34     movai   0x34                	movai 0x34
000096   1f03     movra   0x3                 	movra STK03
000097   2d45     movai   0x45                	movai 0x45
000098   1f02     movra   0x2                 	movra STK02
000099   2d20     movai   0x20                	movai (ram0)
00009a   1f01     movra   0x1                 	movra STK01
00009b   2d00     movai   0                   	movai high(ram0)
00009c   1f00     movra   0                   	movra STK00
00009d   2d00     movai   0                   	movai 0x00
00009e   c160     call    0x160               	call __gptrput4
00009f   0e00     return                      	return
                                           
                                              	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXX--------
05C0 : ---------------- ---------------- ---------------- --------------XX
0600 : XXXXXX---------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   384

